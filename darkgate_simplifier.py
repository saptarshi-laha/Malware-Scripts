import re 
 
def main(): 
    try: 
        # Open the files 
        with open('script_restore.au3', 'r') as script_file, open('test.txt', 'r') as test_file: 
            script_content = script_file.read() 
 
            # Read test content as a string 
            test_content = test_file.read().strip() 
 
            # Define a function to replace placeholders with characters 
            def replace_match(match): 
                index = int(match.group(1)) 
                return test_content[index] 
 
            # Use regular expression to find and replace placeholders with characters 
            modified_script = re.sub(r'\$A\[(\d+)\]', replace_match, script_content) 
 
            # Replace standalone '&' characters with nothing 
            modified_script = re.sub(r'(?<!&)&(?!=)', '', modified_script) 
 
        # Write the modified script to a new file 
        with open('processed_script.au3', 'w') as processed_file: 
            processed_file.write(modified_script) 
 
        print("Script successfully processed and saved as 'processed_script.au3'") 
    except FileNotFoundError: 
        print("One or more files couldn't be found.") 
 
if __name__ == "__main__": 
    main() 
 